/*********************************
	'Snail'-puzzel
	Door 
	Jarrit Boons
	Cédric Gullentops

	Rules:
		-Spiraal in sequentie (1,2,3)
		-Eerste cijfer altijd 1
		-Laatste cijfer altijd 3
		-Elke rij telkens (1,2,3)
		-Elke kolom telkens (1,2,3)
		-Lege vakjes zijn toegestaan
*********************************/

vocabulary V {

	type Rij 	isa int		 
	type Kolom 	isa int	 
	type Getal	isa int
    Gegeven(Rij,Kolom,Getal)    
    Oplossing(Rij,Kolom,Getal)

}
structure S : V {
    Getal = {1..3}								
    Rij = {1..5}
    Kolom = {1..5}
    Gegeven = {(1,2,1);(3,3,3);(3,5,2);(5,2,2);(5,4,3);}
    
    
}
theory T : V {
    //Max één getal per vakje
    !r,k:2>#{g:Oplossing(r,k,g)}.
    //De gegevens maken deel uit van de oplossing
	!r,k:Gegeven(r,k,g)=>Oplossing(r,k,g).		
    //Elke rij bevat slechts één 1, 2 en 3
   	//!r1,r2,k1,k2: (r1=r2 & k1~=k2)=> Oplossing(r1,k1) ~= Oplossing(r2,k2).
    //Elke kolom bevat slechts één 1, 2 en 3
    //!r1,r2,k1,k2: (r1~=r2 & k1=k2) => Oplossing(r1,k1) ~= Oplossing(r2,k2).
    											
    

}

procedure main(){
    stdoptions.nbmodels = 1
    printmodels(modelexpand(T,S))
}

